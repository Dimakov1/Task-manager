<AddTask>:
    name: 'add_task'
    new_task_name: new_task_name
    new_task_description: new_task_description
    MDScreen:
        md_bg_color: app.theme_cls.backgroundColor
        BoxLayout:
            orientation: 'vertical'
            padding: '10dp'
            spacing: '40'
            size_hint: (.7, .6)
            pos_hint: {'center_x': .5, 'center_y': .6}

            MDLabel:
                text: "Новая задача"
                font_style: "Headline"
                text_color: 'white'
                halign: 'center'

            FieldText:
                id: new_task_name
                text_color: 'white'
                color_up: 'white'
                icon: 'pin'
                hinter: 'Название задачи'

            FieldText:
                id: new_task_description
                text_color: 'white'
                color_up: 'white'
                icon: 'pen'
                hinter: 'Описание задачи'
                on_text_validate: root.lol()
                new_task_name: ''
                new_task_description: ''
                MDTextFieldMaxLengthText:
                    max_text_length: 200
                    text_color_normal: 'white'
                    text_color_focus: 'white'
            FieldText:
                id: date_picker
                readonly: True
                text_color: 'white'
                color_up: 'white'
                hinter: 'Выберите дату'
                icon: 'calendar'
                dater: 1
                on_focus: root.show_date_picker()
                MDTextFieldHelperText:
                    text_color_normal: 'white'
                    text_color_focus: 'white'
                    text: 'Укажите дедлайн'
                    mode: 'persistent'


            BoxLayout:
                pos_hint: {'center_x': .5, 'center_y': .5}
                orientation : 'horizontal'
                spacing: "180"

                MDButton:
                    style: "filled"
                    theme_bg_color: "Custom"
                    md_bg_color: "green"
                    size_hint_x: None
                    on_press:
                        root.add_task()
                        root.manager.current = "tasks"

                    MDButtonText:
                        text: '[b]ДОБАВИТЬ ЗАДАЧУ[/b]'
                    MDButtonIcon:
                        icon: 'plus'

                Widget:
                    size_hint_x: 1

                MDButton:
                    style: "filled"
                    theme_bg_color: "Custom"
                    md_bg_color: "red"
                    size_hint_x: None
                    on_press: root.manager.current = 'tasks'
                    MDButtonText:
                        text: '[b]НАЗАД[/b]'

